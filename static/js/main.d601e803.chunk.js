(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{43:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),i=a(21),o=a(12),u=a(14),s=a(31),m=a(32),d=a(13),h={email:""};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return"FORMSUSER"===t.type?Object(d.a)(Object(d.a)({},e),{},{email:t.state.email}):e}window.Cypress&&(window.user=p);var v=p,b=a(34),E={currencies:"",expenses:[]};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currance":return Object(d.a)(Object(d.a)({},e),{},{loading:t.state,currencies:Object.keys(t.state).filter((function(e){return"USDT"!==e}))});case"gasto":return Object(d.a)(Object(d.a)({},e),{},{expenses:[].concat(Object(b.a)(e.expenses),[t.payload])});case"remove":return Object(d.a)(Object(d.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.state}))});default:return e}}window.Cypress&&(window.wallet=f);var y=f,j=Object(u.combineReducers)({user:v,wallet:y});window.Cypress&&(window.rootReducer=j);var O=j,w=Object(u.createStore)(O,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(m.a)));window.Cypress&&(window.store=w);var g=w,x=(a(43),a(6)),C=a(7),k=a(8),S=a(9),R=a(2),F=a(16),N=a(11),D=a(24),U=a(33);function M(e){return{type:"gasto",payload:e}}var T=function(e){return{type:"FORMSUSER",state:e}},W=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={senha:"",button:!0,email:"",validation:!1},e.ontext=e.ontext.bind(Object(N.a)(e)),e.redirecionar=e.redirecionar.bind(Object(N.a)(e)),e.validatioEmail=e.validatioEmail.bind(Object(N.a)(e)),e}return Object(C.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.senha,r=a.email;t.senha!==n&&this.validatioEmail(),t.email!==r&&this.validatioEmail()}},{key:"ontext",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value)),this.validatioEmail()}},{key:"validatioEmail",value:function(){var e=this.state.email;this.setState({validation:/\S+@\S+\.\S+/.test(e)});var t=this.state,a=t.senha,n=t.validation;a.length>=6&&!0===n&&this.setState({button:!1}),(a.length<6||!1===n)&&this.setState({button:!0})}},{key:"redirecionar",value:function(){var e=this.props,t=e.history;(0,e.user)(this.state),t.push("/carteira")}},{key:"render",value:function(){var e=this.state,t=e.button,a=e.senha,n=e.email;return r.a.createElement("div",{className:"container-login"},r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Wallet"),r.a.createElement("input",{type:"text",placeholder:"Email","data-testid":"email-input",name:"email",value:n,onChange:this.ontext}),r.a.createElement("input",{type:"text",placeholder:"Senha","data-testid":"password-input",onChange:this.ontext,value:a,name:"senha"}),r.a.createElement("button",{type:"button",disabled:t,onClick:this.redirecionar,name:"entrar"},"Entrar")))}}]),a}(r.a.Component),I=Object(o.b)(null,(function(e){return{user:function(t){return e(T(t))}}}))(W),A=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.total,n=0;return a.forEach((function(e){var t=e.currency;n+=Number(e.value)*e.exchangeRates[t].ask})),r.a.createElement("header",{className:"cabecalho"},r.a.createElement("h3",{"data-testid":"email-field"}," ","Email:"," ",t),r.a.createElement("div",{className:"despeas"},r.a.createElement("h3",{"data-testid":"total-field"},n.toFixed(2)),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL ")))}}]),a}(n.Component),B=Object(o.b)((function(e){return{user:e.user.email,total:e.wallet.expenses}}),null)(A),L=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).remove=e.remove.bind(Object(N.a)(e)),e}return Object(C.a)(a,[{key:"remove",value:function(e){e.preventDefault();var t=this.props.removerItem,a=e.target.name;t(Number(a))}},{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,0===t.length?r.a.createElement("p",null," "):t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask*t.value).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("div",null,r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"delete-btn",type:"button",name:t.id,onClick:e.remove},"Excluir"))))})))))}}]),a}(n.Component),V=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{removerItem:function(t){return e({type:"remove",state:t})}}}))(L),z=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"alimenta\xe7\xe3o"},e.onForma=e.onForma.bind(Object(N.a)(e)),e.Onsubmit=e.Onsubmit.bind(Object(N.a)(e)),e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCurrance1)()}},{key:"onForma",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(F.a)({},a,n))}},{key:"Onsubmit",value:function(e){e.preventDefault(),(0,this.props.fetchCURrancE2)(this.state),this.setState((function(e){return{id:e.id+1,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"alimenta\xe7\xe3o"}}))}},{key:"render",value:function(){var e=this.props.currenty,t=this.state,a=t.value,n=t.description,l=t.currency,c=t.method,i=t.tag;return r.a.createElement("div",null,r.a.createElement("div",{className:"walletContainer"},r.a.createElement("h3",null," WalletForm"),r.a.createElement("form",{className:"walletIn"},"Valor:",r.a.createElement("input",{type:"number","data-testid":"value-input",onChange:this.onForma,name:"value",value:a}),r.a.createElement("select",{"data-testid":"currency-input",onChange:this.onForma,name:"currency",value:l},e?e.map((function(e,t){return r.a.createElement("option",{key:t},e)})):r.a.createElement("option",null,"erro")),"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text","data-testid":"description-input",onChange:this.onForma,name:"description",value:n}),r.a.createElement("select",{"data-testid":"method-input",onChange:this.onForma,name:"method",value:c},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito")),r.a.createElement("select",{"data-testid":"tag-input",onChange:this.onForma,name:"tag",value:i},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade")),r.a.createElement("button",{type:"button",onClick:this.Onsubmit},"Adicionar despesa"))),r.a.createElement(V,null))}}]),a}(n.Component),J=Object(o.b)((function(e){return{tudo:e.wallet.loading,expenses:e.wallet.expenses,currenty:e.wallet.currencies}}),(function(e){return{fetchCurrance1:function(){return e((function(e){return e({type:"REQUEST_CURRANCE"}),fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"currance",state:e}}(t))})).catch((function(t){return e(function(e){return{type:"FAILED_REQUEST",state:e}}(t))}))}))},fetchCURrancE2:function(t){return e((a=t,function(){var e=Object(U.a)(Object(D.a)().mark((function e(t){var n,r;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a.exchangeRates=r,t(M(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(z),Q=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wallet"}," ",r.a.createElement(B,null)," ",r.a.createElement(J,null))}}]),a}(r.a.Component),_=Q,$=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(R.a,{exact:!0,path:"/",component:I}),r.a.createElement(R.a,{path:"/carteira",component:_})))}}]),a}(r.a.Component),q=$;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:g},r.a.createElement(i.a,{basename:"/Wallet"},r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.d601e803.chunk.js.map